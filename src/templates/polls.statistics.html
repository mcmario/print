
<sidebar></sidebar>

<div class="spinner_container" ng-if="ctrl.spinner==true">
    <div class="spinner" >
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
    </div>
</div>
<header-component
"
></header-component>
<div class="content no-padding center-block"
     style="overflow:hidden; min-height:100vh;"
     ng-class="{'smaller': sidebarVisible(),'smaller_stat':!sidebarVisible(), 'translate': displayNotes()}">


    <div class="no-padding customScroll col-xs-12"
         style="overflow: auto"
         ng-class="{'col-lg-8': displayNotes(), 'col-lg-12': !displayNotes()}">

        <div class="polls_statistics col-md-12">

            <!--<div class="col-xs-12 polls_head">-->
                        <!--<span class="col-xs-9 polls_title">Статистика опитування-->


                        <!--</span>-->
                <!--<div class="polls_head_buttons col-xs-3">-->
                    <!--<button ng-click="ctrl.showVariants=!ctrl.showVariants" class="polls_fold">-->
                        <!--<span class="polls_fold_unfold" ng-if="ctrl.showVariants"> розгорнути</span>-->
                        <!--<span class=" polls_fold_unfold polls_fold_unfold_D" ng-if="!ctrl.showVariants">згорнути</span>-->
                    <!--</button>-->

                <!--</div>-->
            <!--</div>-->
            <div class="row polls_body col-md-12 center-block  " >
                <!--statistics filters-->
                <div class="polls_statistics_filters_container col-xs-12 ">
                    <div class="dropdown  col-xs-5 no-padding">
                        <button class=" polls_statistics_filters dropdown-toggle " type="button" data-toggle="dropdown"
                                style="width: 100%; height:100%">
                            <span ng-if="ctrl.statisticDepartment==='Усі відділи'">Оберіть департамент</span>
                            <span ng-if="ctrl.statisticDepartment!=='Усі відділи'">{{ctrl.statisticDepartment}}</span>
                        </button>
                        <ul class="dropdown-menu col-xs-12 ">
                            <li class="polls_statistics_filters_li"
                                ng-click="ctrl.statisticDepartment='Усі відділи';ctrl.filterBy()">
                                <span class=""
                                      ng-class="{'glyphicon checked':ctrl.statisticDepartment=='Усі відділи'}"></span>
                                <span>Усі відділи</span>
                            </li>
                            <li class="polls_statistics_filters_li" ng-repeat="dept in statFilters.dep track by $index"
                                ng-click="ctrl.statisticDepartment=dept; ctrl.filterBy()"
                            ng-if="dept.length>2">
                                <span ng-class="{'glyphicon checked':ctrl.statisticDepartment==dept}"></span>
                                <span>{{dept}}</span>
                            </li>

                        </ul>
                    </div>
                    <div class="dropdown  col-xs-5 col-xs-offset-1 no-padding">
                        <button class="polls_statistics_filters dropdown-toggle " type="button" data-toggle="dropdown"
                                style=" width: 100%; height:100%">
                            <span ng-if="ctrl.statisticCity==='Усі міста'">Оберіть місто</span>
                            <span ng-if="ctrl.statisticCity!=='Усі міста'">{{ctrl.statisticCity}}</span>
                        </button>
                        <ul class="dropdown-menu col-xs-12">
                            <li class="polls_statistics_filters_li"
                                ng-click="ctrl.statisticCity='Усі міста';ctrl.filterBy()">
                                <span class=""
                                      ng-class="{'glyphicon checked':ctrl.statisticCity=='Усі міста'}"></span>

                                Усі міста
                            </li>
                            <li class="polls_statistics_filters_li" ng-repeat="city in statFilters.city track by $index"
                                ng-click="ctrl.statisticCity=city;ctrl.filterBy()"
                                ng-if="city.length>2">
                                <span ng-class="{'glyphicon checked':ctrl.statisticCity==city}"></span>
                                <span>{{city}}</span>
                            </li>

                        </ul>
                    </div>
                    <!--<select ng-model="ctrl.statisticDepartment" class="polls_statistics_filters col-xs-5"-->
                    <!--ng-change="ctrl.filterBy()">-->
                    <!--<option value="Усі відділи" selected>Усі відділи</option>-->
                    <!--<option ng-value="dept" ng-repeat="dept in statFilters.dep track by $index">{{dept}}</option>-->
                    <!--</select>-->
                    <!--<select-->

                    <!--ng-model="ctrl.statisticCity" class="polls_statistics_filters col-xs-5"-->
                    <!--ng-change="ctrl.filterBy()">-->
                    <!--<option value="Усі міста" selected>Усі міста</option>-->
                    <!--<option ng-value="city" ng-repeat="city in statFilters.city track by $index">{{city}}</option>-->
                    <!--</select>-->
                    <button ng-click="ctrl.clearFilters()" class="col-xs-1 polls_statistics_filters_clear">

 <svg style='height: 30px;' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25.002 23.338">
                <defs>
                    <style>.acf {
                        fill: #212121;
                    }</style>
                </defs>
                <g transform="translate(-2.998 -4)">
                    <path class="acf"
                          d="M19.439,4a1.646,1.646,0,0,0-1.18.486L3.486,19.415a1.718,1.718,0,0,0,0,2.4L8.8,27.175a.568.568,0,0,0,.4.156H24.109a.561.561,0,1,0,0-1.111H15.238L27.512,13.826a1.715,1.715,0,0,0,0-2.4L20.637,4.486A1.685,1.685,0,0,0,19.439,4Zm0,1.111a.572.572,0,0,1,.4.174l6.874,6.944a.54.54,0,0,1,.139.521.547.547,0,0,0-.521-.417.556.556,0,0,0-.017,1.111L25.22,14.537a.556.556,0,1,0-.573.573l-1.094,1.111a.556.556,0,1,0-.556.556l-1.111,1.111a.556.556,0,1,0-.556.556h.035L20.2,19.606c0-.02.017-.033.017-.052A.557.557,0,0,0,19.665,19a.531.531,0,0,0-.278.087L18.45,18.2a.54.54,0,0,0,.1-.312.553.553,0,0,0-.92-.417l-.9-.851a.565.565,0,0,0,.156-.4.557.557,0,0,0-.556-.556.549.549,0,0,0-.417.191L15,14.989a.543.543,0,0,0,.226-.434A.557.557,0,0,0,14.665,14a.538.538,0,0,0-.451.26l-.972-.885a.548.548,0,0,0,.312-.486A.549.549,0,0,0,12.5,12.68l-.312-.3a.528.528,0,0,0-.087-.069l6.961-7.031A.534.534,0,0,1,19.439,5.111Zm.226.556a.556.556,0,1,0,.556.556A.557.557,0,0,0,19.665,5.667ZM18,7.333a.556.556,0,1,0,.556.556A.557.557,0,0,0,18,7.333Zm3.333,0a.556.556,0,1,0,.556.556A.557.557,0,0,0,21.331,7.333ZM16.332,9a.556.556,0,1,0,.556.556A.557.557,0,0,0,16.332,9Zm3.333,0a.556.556,0,1,0,.556.556A.557.557,0,0,0,19.665,9ZM23,9a.556.556,0,1,0,.556.556A.557.557,0,0,0,23,9Zm-8.333,1.667a.556.556,0,1,0,.556.556A.557.557,0,0,0,14.665,10.666Zm3.333,0a.556.556,0,1,0,.556.556A.557.557,0,0,0,18,10.666Zm3.333,0a.556.556,0,1,0,.556.556A.557.557,0,0,0,21.331,10.666Zm3.333,0a.556.556,0,1,0,.556.556A.557.557,0,0,0,24.665,10.666Zm-8.333,1.667a.556.556,0,1,0,.556.556A.557.557,0,0,0,16.332,12.333Zm3.333,0a.556.556,0,1,0,.556.556A.557.557,0,0,0,19.665,12.333Zm3.333,0a.556.556,0,1,0,.556.556A.557.557,0,0,0,23,12.333Zm-11.683.781a.589.589,0,0,0,.1.1L19.3,20.527l-5.642,5.694H9.44L4.284,21.013a.561.561,0,0,1,0-.8ZM18,14a.556.556,0,1,0,.556.556A.557.557,0,0,0,18,14Zm3.333,0a.556.556,0,1,0,.556.556A.557.557,0,0,0,21.331,14Zm-1.667,1.667a.556.556,0,1,0,.556.556A.557.557,0,0,0,19.665,15.666Z"/>
                </g>
            </svg>




                    </button>
                    <button class="col-xs-1" ng-click="ctrl.printStatistics(statistics)"
                    style="border: 0;
    background: transparent;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 23" style="height: 28px">
                    <defs>
                        <style>
                            .cls-1print {
                                fill: #457bbf;
                            }
                        </style>
                    </defs>
                    <path id="Path_547" data-name="Path 547" class="cls-1print" d="M7,4A1,1,0,0,0,6,5V7H24V5a1,1,0,0,0-1-1ZM4,9a2,2,0,0,0-2,2v9a2,2,0,0,0,2,2H6v5H24V22h2a2,2,0,0,0,2-2V11a2,2,0,0,0-2-2Zm4,6H22V25H8Z" transform="translate(-2 -4)"></path>
                </svg>
                    </button>
                </div>


                <div class="polls_description">

                    <span class="col-xs-12 polls_title"
                          ng-bind-html="statistics.name">
                    </span>
                    <span class="col-xs-12 polls_statistics_title">
                        Кількість респондентів
                        <strong>
                            {{statistics.people_finish}} з {{statistics.people}}
                        </strong>
                    </span>
                </div>
                <div class="polls_statistics_questions row container-fluid customScroll"
                     ng-repeat="question in statistics.question track by $index">
                    <div class=" col-xs-12 ">
                        <div ng-if="question.type=='text'">
                            <span class="polls_statistics_question_text"
                                  ng-bind-html=" question.text">

                                <!--{{$index+1}}. {{question.text}}-->
                            </span>

                            <div class="polls_statistics_question_block" ng-hide="ctrl.showVariants">
                                <div class="polls_statistics_question_variant_block"
                                     ng-repeat="answer in question.answers track by $index"
                                >
                                    <span class="polls_statistics_question_variant"
                                          ng-bind-html="answer">
                                    </span>


                                </div>
                                <div class="polls_statistics_question_variant_block">

                                </div>

                            </div>
                        </div>
                        <div ng-if="question.type!='text'">


                            <span class="polls_statistics_question_text"
                                  ng-bind-html=" question.text"
                            >

                                <!--{{$index+1}}. {{question.text}}-->
                            </span>

                            <div class="polls_statistics_radio"
                                 ng-repeat="answer in question.answers track by $index"
                                 ng-hide="ctrl.showVariants">

                                <span class=" col-xs-12 no-padding polls_statistics_question_variant"
                                      ng-bind-html="answer.variant">
                                    <!--{{}}-->
                                </span>
                                <div class="col-xs-12 progress no-padding polls_progres_stat">
                                    <div class="progress-bar"
                                         role="progressbar"
                                         style="
                                         width: {{answer.progres}};
                                         height: 100%;
                                         background-color: {{answer.color}}"
                                         aria-valuenow="25" aria-valuemin="0"
                                         aria-valuemax="100">

                                    </div>

                                    <span class="polls_statistics_question_variant"
                                          style=" padding-top: 8px;"
                                          ng-if="answer.progres!=='100.0%'">{{answer.count}}/{{statistics.people_finish}} - {{answer.progres}}
                                    </span>
                                    <span class="polls_statistics_question_variant_100"
                                          style=" padding-top: 8px;"
                                          ng-if="answer.progres==='100.0%'">

                                        {{answer.count}}/{{statistics.people_finish}} - {{answer.progres}}
                                    </span>
                                </div>


                            </div>

                        </div>

                    </div>

                </div>


            </div>


        </div>

    </div>

    <div ng-if="displayNotes()" class="col-md-4 no-padding"
         ng-class="{'width_0': !displayNotes()}">
        <notes-component>
        </notes-component>
    </div>


</div>
